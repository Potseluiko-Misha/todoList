{"ast":null,"code":"var _jsxFileName = \"D:\\\\todoList\\\\react-web-frontend\\\\src\\\\TodoList.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport { baseURL } from './utility.js';\nimport TodoItem from './TodoItem.js';\nimport TodoSearch from './TodoSearch.js';\nimport TodoSort from './TodoSort.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function TodoList({\n  token\n}) {\n  _s();\n  const [todos, setTodos] = useState([]);\n  const [search, setSearch] = useState('');\n  const [sort, setSort] = useState('0');\n  function acceptSearch(searchWord) {\n    setSearch(searchWord);\n  }\n  function acceptSort(sortOrder) {\n    setSort(sortOrder);\n  }\n  useEffect(() => {\n    (async () => {\n      const params = new URLSearchParams();\n      if (search) params.append('search', search);\n      params.append('doneAtLast', sort);\n      const response = await fetch(`${baseURL}?${params}`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      if (response.ok) setTodos((await response.json()).todos);else window.alert(response.status + ': ' + response.statusText);\n    })();\n  }, [token, search, sort]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(TodoSearch, {\n      search: search,\n      acceptSearch: acceptSearch\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(TodoSort, {\n      sort: sort,\n      acceptSort: acceptSort\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"heading\",\n      children: \"\\u0417\\u0430\\u043F\\u043B\\u0430\\u043D\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u043D\\u044B\\u0435 \\u0434\\u0435\\u043B\\u0430\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }, this), todos.map(item => /*#__PURE__*/_jsxDEV(TodoItem, {\n      item: item\n    }, item._id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 17\n    }, this))]\n  }, void 0, true);\n}\n_s(TodoList, \"72RVmKbpTQ5JhBppxcEcJ+Ys+rw=\");\n_c = TodoList;\nvar _c;\n$RefreshReg$(_c, \"TodoList\");","map":{"version":3,"names":["useState","useEffect","baseURL","TodoItem","TodoSearch","TodoSort","jsxDEV","_jsxDEV","Fragment","_Fragment","TodoList","token","_s","todos","setTodos","search","setSearch","sort","setSort","acceptSearch","searchWord","acceptSort","sortOrder","params","URLSearchParams","append","response","fetch","headers","Authorization","ok","json","window","alert","status","statusText","children","fileName","_jsxFileName","lineNumber","columnNumber","className","map","item","_id","_c","$RefreshReg$"],"sources":["D:/todoList/react-web-frontend/src/TodoList.js"],"sourcesContent":["import { useState, useEffect } from 'react';\r\n\r\nimport { baseURL } from './utility.js';\r\nimport TodoItem from './TodoItem.js';\r\nimport TodoSearch from './TodoSearch.js';\r\nimport TodoSort from './TodoSort.js';\r\n\r\nexport default function TodoList({ token }) {\r\n    const [todos, setTodos] = useState([]);\r\n    const [search, setSearch] = useState('');\r\n    const [sort, setSort] = useState('0');\r\n\r\n    function acceptSearch(searchWord) {\r\n        setSearch(searchWord);\r\n    }\r\n\r\n    function acceptSort(sortOrder) {\r\n        setSort(sortOrder);\r\n    }\r\n\r\n    useEffect(() => {\r\n        (async () => {\r\n            const params = new URLSearchParams();\r\n            if (search)\r\n                params.append('search', search);\r\n            params.append('doneAtLast', sort);\r\n            const response = await fetch(`${baseURL}?${params}`, {\r\n                headers: {\r\n                    Authorization: `Bearer ${token}`\r\n                }\r\n            });\r\n            if (response.ok)\r\n                setTodos((await response.json()).todos);\r\n            else\r\n                window.alert(response.status + ': ' +\r\n                             response.statusText);\r\n        })();\r\n    }, [token, search, sort]);\r\n\r\n    return (\r\n        <>\r\n            <TodoSearch search={search} acceptSearch={acceptSearch} />\r\n            <TodoSort sort={sort} acceptSort={acceptSort} />\r\n            <h1 className=\"heading\">Запланированные дела</h1>\r\n            {todos.map((item) => (\r\n                <TodoItem key={item._id} item={item} />\r\n            ))}\r\n        </>\r\n    );\r\n}\r\n"],"mappings":";;AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAE3C,SAASC,OAAO,QAAQ,cAAc;AACtC,OAAOC,QAAQ,MAAM,eAAe;AACpC,OAAOC,UAAU,MAAM,iBAAiB;AACxC,OAAOC,QAAQ,MAAM,eAAe;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAErC,eAAe,SAASC,QAAQA,CAAC;EAAEC;AAAM,CAAC,EAAE;EAAAC,EAAA;EACxC,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGd,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACe,MAAM,EAAEC,SAAS,CAAC,GAAGhB,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAM,CAACiB,IAAI,EAAEC,OAAO,CAAC,GAAGlB,QAAQ,CAAC,GAAG,CAAC;EAErC,SAASmB,YAAYA,CAACC,UAAU,EAAE;IAC9BJ,SAAS,CAACI,UAAU,CAAC;EACzB;EAEA,SAASC,UAAUA,CAACC,SAAS,EAAE;IAC3BJ,OAAO,CAACI,SAAS,CAAC;EACtB;EAEArB,SAAS,CAAC,MAAM;IACZ,CAAC,YAAY;MACT,MAAMsB,MAAM,GAAG,IAAIC,eAAe,CAAC,CAAC;MACpC,IAAIT,MAAM,EACNQ,MAAM,CAACE,MAAM,CAAC,QAAQ,EAAEV,MAAM,CAAC;MACnCQ,MAAM,CAACE,MAAM,CAAC,YAAY,EAAER,IAAI,CAAC;MACjC,MAAMS,QAAQ,GAAG,MAAMC,KAAK,CAAE,GAAEzB,OAAQ,IAAGqB,MAAO,EAAC,EAAE;QACjDK,OAAO,EAAE;UACLC,aAAa,EAAG,UAASlB,KAAM;QACnC;MACJ,CAAC,CAAC;MACF,IAAIe,QAAQ,CAACI,EAAE,EACXhB,QAAQ,CAAC,CAAC,MAAMY,QAAQ,CAACK,IAAI,CAAC,CAAC,EAAElB,KAAK,CAAC,CAAC,KAExCmB,MAAM,CAACC,KAAK,CAACP,QAAQ,CAACQ,MAAM,GAAG,IAAI,GACtBR,QAAQ,CAACS,UAAU,CAAC;IACzC,CAAC,EAAE,CAAC;EACR,CAAC,EAAE,CAACxB,KAAK,EAAEI,MAAM,EAAEE,IAAI,CAAC,CAAC;EAEzB,oBACIV,OAAA,CAAAE,SAAA;IAAA2B,QAAA,gBACI7B,OAAA,CAACH,UAAU;MAACW,MAAM,EAAEA,MAAO;MAACI,YAAY,EAAEA;IAAa;MAAAkB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eAC1DjC,OAAA,CAACF,QAAQ;MAACY,IAAI,EAAEA,IAAK;MAACI,UAAU,EAAEA;IAAW;MAAAgB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eAChDjC,OAAA;MAAIkC,SAAS,EAAC,SAAS;MAAAL,QAAA,EAAC;IAAoB;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,EAChD3B,KAAK,CAAC6B,GAAG,CAAEC,IAAI,iBACZpC,OAAA,CAACJ,QAAQ;MAAgBwC,IAAI,EAAEA;IAAK,GAArBA,IAAI,CAACC,GAAG;MAAAP,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAe,CACzC,CAAC;EAAA,eACJ,CAAC;AAEX;AAAC5B,EAAA,CA1CuBF,QAAQ;AAAAmC,EAAA,GAARnC,QAAQ;AAAA,IAAAmC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}