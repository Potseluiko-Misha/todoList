{"ast":null,"code":"var _jsxFileName = \"D:\\\\todoList\\\\react-web-frontend\\\\src\\\\TodoDetail.js\",\n  _s = $RefreshSig$();\n/* eslint-disable jsx-a11y/alt-text */\nimport { useState, useEffect, useContext } from 'react';\nimport { useParams, Navigate } from 'react-router-dom';\nimport { baseURL } from './utility.js';\nimport { TokenContext } from './utility.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function TodoDetail() {\n  _s();\n  const [todo, setTodo] = useState(undefined);\n  const token = useContext(TokenContext);\n  const {\n    id\n  } = useParams();\n  useEffect(() => {\n    if (!token) return;\n    (async () => {\n      const response = await fetch(`${baseURL}${id}/`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      if (response.ok) setTodo((await response.json()).todo);else window.alert(response.status + ': ' + response.statusText);\n    })();\n  }, [token, id]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [!token && /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 24\n    }, this), token && todo && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [todo.done && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\u0412\\u044B\\u043F\\u043E\\u043B\\u043D\\u0435\\u043D\\u043E.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 35\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: todo.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 21\n      }, this), todo.desc && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: todo.desc\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 35\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"datetime\",\n        children: [\"\\u0421\\u043E\\u0437\\u0434\\u0430\\u043D\\u043E:\", new Date(todo.createdAt).toLocaleString()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 21\n      }, this), todo.addendum && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"addendum\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: `${baseURL}uploaded/${todo.addendum}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 29\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 25\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true);\n}\n_s(TodoDetail, \"LKx4zkuE72ehJGRfXfmFk1HL+W0=\", false, function () {\n  return [useParams];\n});\n_c = TodoDetail;\nvar _c;\n$RefreshReg$(_c, \"TodoDetail\");","map":{"version":3,"names":["useState","useEffect","useContext","useParams","Navigate","baseURL","TokenContext","jsxDEV","_jsxDEV","Fragment","_Fragment","TodoDetail","_s","todo","setTodo","undefined","token","id","response","fetch","headers","Authorization","ok","json","window","alert","status","statusText","children","to","fileName","_jsxFileName","lineNumber","columnNumber","done","title","desc","className","Date","createdAt","toLocaleString","addendum","src","_c","$RefreshReg$"],"sources":["D:/todoList/react-web-frontend/src/TodoDetail.js"],"sourcesContent":["/* eslint-disable jsx-a11y/alt-text */\r\nimport { useState, useEffect, useContext } from 'react';\r\nimport { useParams, Navigate } from 'react-router-dom';\r\n\r\nimport { baseURL } from './utility.js';\r\nimport { TokenContext } from './utility.js';\r\n\r\nexport default function TodoDetail() {\r\n    const [todo, setTodo] = useState(undefined);\r\n    const token = useContext(TokenContext);\r\n    const { id } = useParams();\r\n\r\n    useEffect(() => {\r\n        if (!token) return;\r\n        (async () => {\r\n            const response = await fetch(`${baseURL}${id}/`, {\r\n                headers: {\r\n                    Authorization: `Bearer ${token}`\r\n                }\r\n            });\r\n            if (response.ok)\r\n                setTodo((await response.json()).todo);\r\n            else\r\n                window.alert(response.status + ': ' +\r\n                             response.statusText);\r\n        })();\r\n    }, [token, id]);\r\n\r\n    return (\r\n        <>\r\n            {!token && <Navigate to=\"/login\" />}\r\n            {token && todo &&\r\n                <>\r\n                    {todo.done && <p>Выполнено.</p>}\r\n                    <h1>{todo.title}</h1>\r\n                    {todo.desc && <p>{todo.desc}</p>}\r\n                    <p className=\"datetime\">Создано: \r\n                       {new Date(todo.createdAt).toLocaleString()}</p>\r\n                    {todo.addendum &&\r\n                        <p className=\"addendum\">\r\n                            <img src={`${baseURL}uploaded/${todo.addendum}`} />\r\n                        </p>\r\n                    }\r\n                </>\r\n            }\r\n        </>\r\n    );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}